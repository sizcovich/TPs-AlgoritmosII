\documentclass[10pt, a4paper]{article}
\usepackage[paper=a4paper, left=1.5cm, right=1.5cm, bottom=1.5cm, top=3.5cm]{geometry}
\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[spanish]{babel}
\usepackage{indentfirst}
\usepackage{fancyhdr}
\usepackage{latexsym}
\usepackage{lastpage}
\usepackage{libs/caratula}
\usepackage{libs/aed2-symb,libs/aed2-itef,libs/aed2-tad}
\usepackage[colorlinks=true, linkcolor=blue]{hyperref}
\usepackage{calc}

\newcommand{\f}[1]{\text{#1}}
\renewcommand{\paratodo}[2]{$\forall~#2$: #1}

\sloppy

\hypersetup{%
 % Para que el PDF se abra a página completa.
 pdfstartview= {FitH \hypercalcbp{\paperheight-\topmargin-1in-\headheight}},
 pdfauthor={C\'atedra de Algoritmos y Estructuras de Datos II - DC - UBA},
 pdfkeywords={TADs b\'asicos},
 pdfsubject={Tipos abstractos de datos básicos}
}

\parskip=5pt % 10pt es el tamaño de fuente

% Pongo en 0 la distancia extra entre ítemes.
\let\olditemize\itemize
\def\itemize{\olditemize\itemsep=0pt}

% Acomodo fancyhdr.
\pagestyle{fancy}
\thispagestyle{fancy}
\addtolength{\headheight}{1pt}
\lhead{Algoritmos y Estructuras de Datos II}
\rhead{$2^{\mathrm{do}}$ cuatrimestre de 2012}
\cfoot{\thepage /\pageref{LastPage}}
\renewcommand{\footrulewidth}{0.4pt}

\author{Algoritmos y Estructuras de Datos II, DC, UBA.}
\date{}
\title{Tipos abstractos de datos b\'asicos}

\begin{document}

\materia{Algoritmos y Estructuras de Datos II}
\submateria{Tipos abstractos de datos b\'asicos}
\titulo{LinkLinkIt}
\subtitulo{Catalogo de rutas en internet}
\grupo{3}
\integrante{Barabas, Ariel}{775/11}{ariel.baras@gmail.com}
\integrante{Izcovich, Sabrina}{550/11}{sizcovich@gmail.com}
\integrante{Otero, Fernando}{424/11}{fergabot@gmail.com}
\integrante{Vita, Sebasti\'an}{149/11}{sebastian\_vita@yahoo.com.ar}

%Pagina de titulo e indice
\thispagestyle{empty}

\maketitle
\tableofcontents

\newpage

%TADS
\section{TAD \tadNombre{ARBOL DE CATEGORIAS}}

\begin{tad}{\tadNombre{AbCat}}
\tadGeneros{AbCat}
\tadExporta{abcat, generadores, observadores básicos}
\tadUsa{\tadNombre{Nombre}}

\tadIgualdadObservacional{a_{1}}{a_{2}}{arbolcategorias}{($a_{1}$ $=_{obs}$ $a_{2}$
$\Leftrightarrow$ categoria($a_{1}$) = categoria($a_{2}$) $\land$ subcategorias($a_{1}$) =
subcategorias($a_{2}$))}


\tadObservadores
\tadAlinearFunciones{subcategorias}{abcat(nombre)}
\tadOperacion{subcategorias}{abcat(nombre)}{conjunto(abcat(nombre))}{}
\tadOperacion{categoria}{abcat(nombre)}{nombre}{}


\tadGeneradores
\tadAlinearFunciones{aaaaaaaaa}{aaaaaaaaaaaaaaaaaaaaa}
\tadOperacion{nodo}{nombre x conjunto(abcat)}{abcat}{nombre unico}


\tadOtrasOperaciones
\tadAlinearFunciones{aaaaaaaaaaaaaaaa}{aaaaaaaaaaaaaaaaaaaaaa}
\tadOperacion{nombreUnico}{nombre x conj(abcat)}{bool}{}
\tadOperacion{sacarNombres}{conj(abcat)}{conj(nombre)}{}
\tadOperacion{todasLasCategorias}{abcat}{conj(nombre)}{}


\tadAxiomas
\tadAlinearAxiomas{aaaaaaaaaaaaaaaaaaaaaaaaaaa}
\tadAxioma{categoria(nodo(n, conj(a)))}{n}
\tadAxioma{subcategorias(nodo(n, conj(a)))}{conj(a)}
\tadAxioma{nombreUnico(n, ca)}{$\neg$(n $\in$ sacarNombres(ca)}
\tadAxioma{sacarNombres(ca)}{if $\emptyset$?(ca) then $\emptyset$ else todasLasCategorias(dameUno(ca)) $\cup$ sacarNombres(sinUno(ca))}
\end{tad}


\section{TAD \tadNombre{SISTEMA}}

\begin{tad}{\tadNombre{Sist}}
\tadGeneros{Sist}
\tadExporta{sist, generadores, observadores básicos}
\tadUsa{\tadNombre{Fecha, Link, Nombre, Arbol de categorias}}

\tadIgualdadObservacional{s_{1}}{s_{2}}{sistema}{($s_{1}$ $=_{obs}$ $s_{2}$
$\Leftrightarrow$ (todosLosLinks($s_{1}$) = todosLosLinks($s_{2}$) $\land$
 (($\forall$ l:link $\in$ todosLosLinks($s_{1}$))visitas(l, $s_{1}$) = visitas(l, $s_{2}$)) $\land$
(($\forall$ l:link $\in$ todosLosLinks($s_{1}$))categoria(l, $s_{1}$) = categoria(l, $s_{2}$)))}


\tadAlinearFunciones{aaaaaaaaaaaaaaaaaaa}{aaaaaaaaaaaaaaaaaaa}


\tadObservadores
\tadOperacion{arbol}{sist}{abcat}{}
\tadOperacion{todosLosLinks}{sist}{conjunto(link)}{}
\tadOperacion{visitas}{link x sist}{conjunto(fecha)}{}
\tadOperacion{categoria}{link l x sist s}{nombre}{linkEnSist(l, s)}


\tadGeneradores
\tadAlinearFunciones{aaaaaaaaaaaaaaa}{aaaaaaaaaaaaaaaa}
\tadOperacion{inicio}{abcat}{sist}{}
\tadOperacion{registrarLink}{link l x nombre n x sist s}{sist}{linkUnico(l, s) $\land$
nombreEnSist(n, s)}
\tadOperacion{registrarAcceso}{fecha x link l x sist}{sist}{linkEnSist(l, s)}


\tadOtrasOperaciones
\tadOperacion{linkUnico}{link x sist}{bool}{}
\tadOperacion{nombreEnSist}{nombre x sist}{bool}{}
\tadOperacion{linkEnSist}{link x sis}{bool}{}


\tadAxiomas
\tadAlinearAxiomas{aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa}
\tadAxioma{todosLosLinks(inicio(a))}{$\emptyset$}
\tadAxioma{todosLosLinks(registrarAcceso(f, l, s))}{todosLosLinks(s)}
\tadAxioma{todosLosLinks(registrarLink(l, n, s))}{Ag(l, todosLosLinks(s))}
\tadAxioma{visitas(l, inicio(a))}{$\emptyset$}
\tadAxioma{visitas(l, registrarAcceso(f, l’, s))}{if (l = l’) then Ag(f, visitas(l ,s)) else visitas (l, s) fi} %como escribimos los if?
\tadAxioma{visitas(l, registrarLink(l’, n, s))}{visitas(l, s)}
\tadAxioma{categoria(l, registrarAcceso(f, l’, s))}{categoria (l, s)}
\tadAxioma{categoria(l, registrarLink(l’, n, s))}{if (l = l’) then n else categoria (l, s) fi}
\tadAxioma{arbol(inicio(a))}{a}
\tadAxioma{arbol(registrarAcceso(f, l, s))}{arbol(s)}
\tadAxioma{arbol(registrarLink(l, n, s))}{arbol(s)}
\tadAxioma{linkUnico(l, inicio(a))}{true}
\tadAxioma{linkUnico(l, registrarAcceso(f, l’, s))}{linkUnico(l, s)}
\tadAxioma{linkUnico(l, registrarLink(l’, n, s))}{if (l = l’) then false else linkUnico(l, s) fi}
\tadAxioma{nombreEnSist(n, inicio(a))}{$\neg$(n $\in$ todasLasCategorias(a))}
\tadAxioma{nombreEnSist(n, registrarAcceso(f, l, s))}{nombreEnSist(n, s)}
\tadAxioma{nombreEnSist(n, registrarLink(l, n’, s))}{nombreEnSist(n, s)}
\tadAxioma{linkEnSist(l, inicio(a))}{false}
\tadAxioma{linkEnSist(l, registrarAcceso(f, l’, s))}{linkEnSist(l, s)}
\tadAxioma{linkEnSist(l, registrarLink(l’, n, s))}{if (l = l’) then true else linkEnSist(l, s) fi}

\end{tad}

\end{document}